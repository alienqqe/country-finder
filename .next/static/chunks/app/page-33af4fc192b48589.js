(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{232:function(e,n,t){Promise.resolve().then(t.bind(t,1740))},1740:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var l=t(7437),s=t(9977),i=t(4031),a=t(3269),o=t(6358),r=t(5787),c=t(5932),d=t(9172),u=t(2265),m=t(392),h=t(230),v=t(7389);function x(){let e=(0,h._)(["\n  query getCountries($code: ID!) {\n    country(code: $code) {\n      code\n      capital\n      currency\n      continent {\n        name\n      }\n      name\n      emoji\n      native\n      phone\n      languages {\n        name\n      }\n    }\n  }\n"]);return x=function(){return e},e}function j(){let e=(0,h._)(["\n  query getAll {\n    countries {\n      name\n      code\n      emoji\n    }\n  }\n"]);return j=function(){return e},e}let p=(0,v.Ps)(x()),f=(0,v.Ps)(j());var g=t(3956),y=t(3198),N=t(5550),b=t.n(N),w=t(3406),S=()=>{var e;let n=new(b())("name"),[t,s]=(0,u.useState)(localStorage.getItem("history")?localStorage.getItem("history").split(" "):[]),[i,a]=(0,u.useState)(window.innerWidth),[o,r]=(0,u.useState)(!1),[c,h]=(0,u.useState)(!1),[v,x]=(0,u.useState)(""),[j,N]=(0,u.useState)([]),[S,C]=(0,u.useState)([]),E=()=>{a(window.innerWidth)};(0,u.useEffect)(()=>(window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)),[]);let k=(0,g.C)(e=>e.countryReducer.value.code),{data:_,error:I}=(0,m.a)(p,{variables:{code:k}}),P=(0,m.a)(f),L=(0,y.I0)();(0,u.useEffect)(()=>{var e,t,l,s;(null==P?void 0:null===(t=P.data)||void 0===t?void 0:null===(e=t.countries)||void 0===e?void 0:e.map(e=>e))&&(n.addAll(null==P?void 0:null===(s=P.data)||void 0===s?void 0:null===(l=s.countries)||void 0===l?void 0:l.map(e=>e)),C(n.search(v)))},[P,v]);let z=e=>{var n;e.preventDefault(),S[0]&&(null==P?void 0:null===(n=P.data)||void 0===n?void 0:n.countries.filter(e=>(null==e?void 0:e.code)===v).length)===0?L((0,w.xz)(S[0].code)):L((0,w.xz)(v))&&localStorage.getItem("history"),s([...t,v]),localStorage.setItem("history",t.join(" "))},q=e=>{s(t.filter((n,t)=>t!==e))};(0,u.useEffect)(()=>{localStorage.setItem("history",t.join(" "))},[t]),(0,u.useEffect)(()=>{_&&N([_.country])},[_]);let D=null===(e=j.map(e=>null==e?void 0:e.languages)[0])||void 0===e?void 0:e.map(e=>e);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("nav",{className:"navbar",children:(0,l.jsx)("div",{className:"container-fluid d-flex align-items-center justify-content-center position-relative",children:(0,l.jsxs)("div",{className:"d-flex ",children:[(0,l.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[(0,l.jsxs)("div",{className:"input-group  flex-row dropdown",children:[(0,l.jsx)("button",{className:i<=576?"btn btn-secondary btn-sm dropdown-toggle input-group-text":"btn btn-secondary btn dropdown-toggle input-group-text",id:"basic-addon1",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,l.jsx)(d.ceS,{})}),(0,l.jsx)("ul",{className:t[0]?"dropdown-menu":"d-none",children:t[0]?t.map((e,n)=>(0,l.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[(0,l.jsx)("a",{className:"dropdown-item",onClick:()=>x(e),href:"#",children:e}),(0,l.jsx)("a",{onClick:()=>q(n),children:(0,l.jsx)(d.aHS,{})})]},n)):""}),(0,l.jsx)("form",{onSubmit:z,role:"search",children:(0,l.jsx)("input",{onFocus:()=>h(!0),onBlur:()=>h(!1),className:"search-input form-control me-2",type:"search",placeholder:"Enter country name","aria-label":"Search",value:v,onChange:e=>x(e.target.value)})})]}),(0,l.jsx)("div",{className:"overlay w-100 me-2 text-white flex-column ",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:S[0]&&(c||o)?S.map(e=>(0,l.jsx)("div",{className:" mt-1 d-inline",children:(0,l.jsxs)("a",{className:"ms-2 fs-5 text-white",onClick:()=>x(e.code),children:[e.emoji," ",e.code]})},e.name)):""})]}),(0,l.jsx)("form",{onSubmit:z,role:"search",children:(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:"btn btn-outline-success",onSubmit:z,type:"submit",children:"Search"})})})]})})}),j[0]?null==j?void 0:j.map(e=>(0,l.jsxs)("div",{className:"country text-light position-absolute",children:[(0,l.jsxs)("div",{className:"mt-5 me-5 d-flex align-items-center justify-content-center flex-column",children:[(0,l.jsx)("span",{className:"me-3",children:(0,l.jsxs)("h1",{className:"py-4",children:[null==e?void 0:e.name," ",null==e?void 0:e.emoji]})}),(0,l.jsx)("span",{className:"me-5",children:(0,l.jsx)("h3",{className:"",children:null==e?void 0:e.continent.name})})]}),(0,l.jsxs)("div",{className:" ms-3 mt-5",children:[(0,l.jsx)("h1",{children:"Overview:"}),(0,l.jsx)("div",{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{className:"py-2",children:(0,l.jsxs)("h5",{children:["Capital: ",null==e?void 0:e.capital]})}),(0,l.jsx)("li",{className:"py-2",children:(0,l.jsxs)("h5",{children:["Currency: ",null==e?void 0:e.currency]})}),(0,l.jsx)("li",{className:"py-2",children:(0,l.jsxs)("h5",{children:["Languages:"," ",null==D?void 0:D.map(e=>(0,l.jsx)("p",{className:"d-inline px-1 ",children:null==e?void 0:e.name}))," "]})}),(0,l.jsx)("li",{className:"py-2",children:(0,l.jsxs)("h5",{children:["Phone Number: +",null==e?void 0:e.phone]})}),(0,l.jsx)("li",{className:"py-2",children:(0,l.jsxs)("h5",{children:["Native naming: ",null==e?void 0:e.native]})})]})})]})]},null==e?void 0:e.code)):""]})};let C=(0,c.q)(e=>{let{graphQLErrors:n,networkError:t}=e;n&&n.forEach(e=>{let{message:n,locations:t,path:l}=e;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(l))}),t&&console.log("[Network error]: ".concat(t))}),E=(0,s.D)([C,new i.u({uri:"https://countries.trevorblades.com/graphql"})]),k=new a.f({cache:new o.h,link:E});function _(){return(0,l.jsx)(r.e,{client:k,children:(0,l.jsx)(S,{})})}},3406:function(e,n,t){"use strict";t.d(n,{xz:function(){return i}});var l=t(64);let s=(0,l.oM)({name:"country",initialState:{value:{code:"",countryData:[]}},reducers:{handleFormSubmit:(e,n)=>{e.value.code=n.payload}}}),{handleFormSubmit:i}=s.actions;n.ZP=s.reducer},3956:function(e,n,t){"use strict";t.d(n,{C:function(){return o},h:function(){return a}});var l=t(64),s=t(3406),i=t(3198);let a=(0,l.xC)({reducer:{countryReducer:s.ZP}}),o=i.v9}},function(e){e.O(0,[699,713,496,971,596,744],function(){return e(e.s=232)}),_N_E=e.O()}]);